
<div class="bg-white rounded-2xl shadow-lg p-8">
	<div class="flex items-center gap-3 mb-6">
		<div class="bg-blue-600 p-3 rounded-lg">
			<!-- Icono User -->
			<span class="w-6 h-6 text-white">ğŸ‘¤</span>
		</div>
		<h2 class="text-2xl font-bold text-gray-800">Registrar Empleado</h2>
	</div>

	<div class="mb-6">
		<label class="block text-sm font-medium text-gray-700 mb-3">
			Escanear Credencial INE
		</label>
		<div class="relative">
			<input
				type="file"
				accept="image/*"
				(change)="handleImageUpload($event)"
				class="hidden"
				id="ine-upload"
				[disabled]="extracting"
			/>
			<label
				for="ine-upload"
				[ngClass]="extracting
					? 'border-blue-300 bg-blue-50'
					: 'border-gray-300 hover:border-blue-500 hover:bg-blue-50'"
				class="flex items-center justify-center gap-3 w-full px-6 py-4 border-2 border-dashed rounded-xl cursor-pointer transition"
			>
				<ng-container *ngIf="extracting; else uploadLabel">
					<span class="w-5 h-5 text-blue-600 animate-pulse">ğŸ“·</span>
					<span class="text-blue-600 font-medium">Extrayendo datos...</span>
				</ng-container>
				<ng-template #uploadLabel>
					<span class="w-5 h-5 text-gray-600">â¬†ï¸</span>
					<span class="text-gray-600 font-medium">
						Subir imagen de credencial INE
					</span>
				</ng-template>
			</label>
		</div>
	</div>

	<div *ngIf="error" class="mb-6 flex items-start gap-3 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
		<span class="w-5 h-5 flex-shrink-0 mt-0.5">â—</span>
		<span class="text-sm">{{ error }}</span>
	</div>

	<div *ngIf="successMsg" class="mb-6 flex items-start gap-3 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg">
		<span class="w-5 h-5 flex-shrink-0 mt-0.5">âœ…</span>
		<span class="text-sm">{{ successMsg }}</span>
	</div>

	<form [formGroup]="form" (ngSubmit)="handleSubmit()" class="space-y-4">
		<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
			<div>
				<label for="nombre" class="block text-sm font-medium text-gray-700 mb-2">
					Nombre *
				</label>
				<input
					id="nombre"
					formControlName="nombre"
					type="text"
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
					required
				/>
			</div>
			<div>
				<label for="apellidos" class="block text-sm font-medium text-gray-700 mb-2">
					Apellidos *
				</label>
				<input
					id="apellidos"
					formControlName="apellidos"
					type="text"
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
					required
				/>
			</div>
		</div>
		<div>
			<label for="curp" class="block text-sm font-medium text-gray-700 mb-2">
				CURP *
			</label>
			<input
				id="curp"
				formControlName="curp"
				type="text"
				maxlength="18"
				class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
				required
			/>
		</div>
		<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
			<div>
				<label for="estado" class="block text-sm font-medium text-gray-700 mb-2">
					Estado *
				</label>
				<input
					id="estado"
					formControlName="estado"
					type="text"
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
					required
				/>
			</div>
			<div>
				<label for="municipio" class="block text-sm font-medium text-gray-700 mb-2">
					Municipio *
				</label>
				<input
					id="municipio"
					formControlName="municipio"
					type="text"
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
					required
				/>
			</div>
			<div>
				<label for="localidad" class="block text-sm font-medium text-gray-700 mb-2">
					Localidad *
				</label>
				<input
					id="localidad"
					formControlName="localidad"
					type="text"
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
					required
				/>
			</div>
		</div>
		<button
			type="submit"
			[disabled]="loading || extracting"
			class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed mt-6"
		>
			{{ loading ? 'Registrando...' : 'Registrar Empleado' }}
		</button>
	</form>
</div>
