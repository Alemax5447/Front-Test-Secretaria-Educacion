<div class="bg-white rounded-2xl shadow-lg p-8">
	<div class="flex items-center gap-3 mb-6">
		<div class="bg-green-600 p-3 rounded-lg">
			<!-- Users Lucide Icon -->
			<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
		</div>
		<div class="flex-1">
			<h2 class="text-2xl font-bold text-gray-800">Lista de Empleados</h2>
			<p class="text-gray-600 text-sm mt-1">
				{{ filteredEmpleados.length }} empleado{{ filteredEmpleados.length !== 1 ? 's' : '' }}
				{{ (searchTerm || estadoFilter || municipioFilter) ? 'encontrado' : 'registrado' }}
				{{ filteredEmpleados.length !== 1 ? 's' : '' }}
			</p>
		</div>
	</div>

	<div class="mb-6 space-y-4">
		<div class="relative">
			<!-- Search Lucide Icon -->
			<svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
			<input
				type="text"
				placeholder="Buscar por nombre, apellidos o CURP..."
				[(ngModel)]="searchTerm"
				class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition"
			/>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
			<div>
				<label class="block text-sm font-medium text-gray-700 mb-2">
					<!-- Filter Lucide Icon -->
					<svg class="w-4 h-4 inline mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><polygon points="3 4 21 4 14 14.5 14 20 10 20 10 14.5 3 4"/></svg>
					Filtrar por Estado
				</label>
				<select
					[(ngModel)]="estadoFilter"
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition"
				>
					<option value="">Todos los estados</option>
					<option *ngFor="let estado of estados" [value]="estado">{{ estado }}</option>
				</select>
			</div>

			<div>
				<label class="block text-sm font-medium text-gray-700 mb-2">
					<!-- Filter Lucide Icon -->
					<svg class="w-4 h-4 inline mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><polygon points="3 4 21 4 14 14.5 14 20 10 20 10 14.5 3 4"/></svg>
					Filtrar por Municipio
				</label>
				<select
					[(ngModel)]="municipioFilter"
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition"
				>
					<option value="">Todos los municipios</option>
					<option *ngFor="let municipio of municipios" [value]="municipio">{{ municipio }}</option>
				</select>
			</div>
		</div>
	</div>

	<div *ngIf="error" class="mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
		{{ error }}
	</div>

	<ng-container *ngIf="loading; else loaded">
		<div class="flex items-center justify-center py-12">
			<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"></div>
		</div>
	</ng-container>
	<ng-template #loaded>
		<ng-container *ngIf="filteredEmpleados.length === 0; else table">
			<div class="text-center py-12">
				<!-- Users Lucide Icon -->
				<svg class="w-16 h-16 text-gray-300 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
				<p class="text-gray-500 text-lg">No se encontraron empleados</p>
			</div>
		</ng-container>
		<ng-template #table>
			<div class="overflow-x-auto">
				<table class="w-full">
					<thead>
						<tr class="border-b-2 border-gray-200">
							<th class="text-left py-4 px-4 font-semibold text-gray-700">Nombre</th>
							<th class="text-left py-4 px-4 font-semibold text-gray-700">CURP</th>
							<th class="text-left py-4 px-4 font-semibold text-gray-700">Ubicaci√≥n</th>
							<th class="text-left py-4 px-4 font-semibold text-gray-700">Registro</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let empleado of filteredEmpleados" class="border-b border-gray-100 hover:bg-gray-50 transition">
							<td class="py-4 px-4">
								<div>
									<p class="font-medium text-gray-900">
										{{ empleado.nombre }} {{ empleado.apellidos }}
									</p>
								</div>
							</td>
							<td class="py-4 px-4">
								<span class="font-mono text-sm text-gray-600">{{ empleado.curp }}</span>
							</td>
							<td class="py-4 px-4">
								<div class="flex items-start gap-2">
									<!-- MapPin Lucide Icon -->
									<svg class="w-4 h-4 text-gray-400 flex-shrink-0 mt-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M12 21s-6-5.686-6-10A6 6 0 0 1 18 11c0 4.314-6 10-6 10z"/><circle cx="12" cy="11" r="2"/></svg>
									<div class="text-sm text-gray-600">
										<p>{{ empleado.localidad }}</p>
										<p class="text-gray-500">
											{{ empleado.municipio }}, {{ empleado.estado }}
										</p>
									</div>
								</div>
							</td>
							<td class="py-4 px-4">
								<span class="text-sm text-gray-500">
									{{ empleado.created_at | date:'dd MMM yyyy' : undefined : 'es-MX' }}
								</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</ng-template>
	</ng-template>
</div>
